{"version":3,"sources":["Filter.js","PersonForm.js","Person.js","Persons.js","services/persons.js","Notifications.js","App.js","index.js"],"names":["Filter","props","handleChange","onChange","PersonForm","newName","newNumber","addPerson","handleNameChange","handleNumberChange","onSubmit","value","type","Person","person","name","number","Persons","persons","removePerson","newFilter","showAll","filteredPersons","filter","toLowerCase","includes","personsToShow","map","onClick","id","baseUrl","axios","get","newPerson","post","console","log","delete","newObject","put","successStyle","padding","fontSize","color","backgroundColor","border","borderRadius","failureStyle","Notification","message","content","style","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","setshowAll","feedbackMessage","setFeedbackMessage","useEffect","personService","then","response","data","catch","error","event","target","preventDefault","some","existingPerson","find","existingPersonId","changedPerson","window","confirm","setTimeout","concat","changedPersons","personObj","ReactDOM","render","document","getElementById"],"mappings":"2KAYeA,EAVA,SAACC,GAAW,IACfC,EAAiBD,EAAjBC,aACR,OACI,qDAC0B,uBAAOC,SAAUD,QCuBpCE,EA3BI,SAACH,GAAW,IAGnBI,EAKAJ,EALAI,QACAC,EAIAL,EAJAK,UACAC,EAGAN,EAHAM,UACAC,EAEAP,EAFAO,iBACAC,EACAR,EADAQ,mBAGR,OACI,8BACI,uBAAMC,SAAUH,EAAhB,UACI,yCACU,uBAAOI,MAAON,EAASF,SAAUK,OAE3C,2CACY,uBAAOG,MAAOL,EAAWH,SAAUM,OAE/C,8BACI,wBAAQG,KAAK,SAAb,yBCfLC,EAPA,SAACZ,GAEZ,IAAMa,EAASb,EAAMa,OAErB,MAAM,GAAN,OAAUA,EAAOC,KAAjB,YAAyBD,EAAOE,OAAhC,MCiCWC,EAlCC,SAAChB,GAAW,IAEhBiB,EAA8CjB,EAA9CiB,QAASC,EAAqClB,EAArCkB,aAAcC,EAAuBnB,EAAvBmB,UAAWC,EAAYpB,EAAZoB,QAGpCC,EAAkBJ,EAAQK,QAAO,SAAAT,GACnC,OAAOA,EAAOC,KAAKS,cAAcC,SAASL,EAAUI,kBAGlDE,EAAgBL,EAChBH,EAAQS,KAAI,SAAAb,GACV,OACI,8BACI,cAAC,EAAD,CAAQA,OAAQA,IAChB,wBAAQc,QAAS,kBAAMT,EAAaL,EAAOe,KAA3C,sBAFIf,EAAOC,SAMrBO,EAAgBK,KAAI,SAAAb,GAClB,OACI,8BACI,cAAC,EAAD,CAAQA,OAAQA,IAChB,wBAAQc,QAAS,kBAAMT,EAAaL,EAAOe,KAA3C,sBAFIf,EAAOC,SAO3B,OACI,8BACKW,K,gBC/BPI,EAAU,eAoBD,EAlBA,WACX,OAAOC,IAAMC,IAAIF,IAiBN,EAdA,SAACG,GACZ,OAAOF,IAAMG,KAAKJ,EAASG,IAahB,EATA,SAACJ,GAEZ,OADAM,QAAQC,IAAIP,GACLE,IAAMM,OAAN,UAAgBP,EAAhB,YAA2BD,KAOvB,EAJM,SAACA,EAAIS,GACtB,OAAOP,IAAMQ,IAAN,UAAaT,EAAb,YAAwBD,GAAMS,IChBnCE,EAAe,CACjBC,QAAS,OACTC,SAAU,OACVC,MAAO,QACPC,gBAAiB,YACjBC,OAAQ,kBACRC,aAAc,QAGZC,EAAe,CACjBN,QAAS,OACTC,SAAU,OACVC,MAAO,MACPC,gBAAiB,YACjBC,OAAQ,gBACRC,aAAc,QAoBHE,EAjBM,SAAC/C,GAAW,IACrBgD,EAAYhD,EAAZgD,QAER,MAAwB,KAApBA,EAAQC,QACD,KAGU,YAAjBD,EAAQrC,KACD,mBAAGuC,MAAOX,EAAV,SAAyBS,EAAQC,UAGvB,YAAjBD,EAAQrC,KACD,mBAAGuC,MAAOJ,EAAV,SAAyBE,EAAQC,eAD5C,GCuHWE,EA/IH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACPnC,EADO,KACEoC,EADF,OAEgBD,mBAAS,IAFzB,mBAEPhD,EAFO,KAEEkD,EAFF,OAGoBF,mBAAS,IAH7B,mBAGP/C,EAHO,KAGIkD,EAHJ,OAIoBH,mBAAS,IAJ7B,mBAIPjC,EAJO,KAIIqC,EAJJ,OAKgBJ,oBAAS,GALzB,mBAKPhC,EALO,KAKEqC,EALF,OAMgCL,mBAAS,CAACH,QAAS,GAAItC,KAAM,KAN7D,mBAMP+C,EANO,KAMUC,EANV,KAQdC,qBAAU,WACNC,IAEKC,MAAK,SAAAC,GACFV,EAAWU,EAASC,SAEvBC,OAAM,SAAAC,GACHhC,QAAQC,IAAI,aAErB,IAsGH,OACI,gCACI,2CACA,cAAC,EAAD,CAAca,QAASU,IACvB,cAAC,EAAD,CAAQzD,aAhGW,SAACkE,GACxBX,EAAaW,EAAMC,OAAO1D,OAC1BO,EAAQK,QAAO,SAAAT,GAAM,OAAIA,EAAOC,KAAKS,cAAcC,SAASL,EAAUI,kBAChEkC,GAAW,GACXA,GAAW,MA6Fb,2CACA,cAAC,EAAD,CACIrD,QAASA,EACTC,UAAWA,EACXC,UA7FM,SAAC6D,GACfA,EAAME,iBAEN,IAAMrC,EAAY,CACdlB,KAAMV,EACNW,OAAQV,GAGZ,GAAIY,EAAQqD,MAAK,SAAAzD,GAAM,OAAIA,EAAOC,OAASV,KAAU,CACjD,IAAMmE,EAAiBtD,EAAQuD,MAAK,SAAA3D,GAAM,OAAIA,EAAOC,OAASV,KACxDqE,EAAmBF,EAAe3C,GAClC8C,EAAa,2BAAQH,GAAR,IAAwBxD,OAAQV,IAG/CsE,OAAOC,QAAP,UAAkBxE,EAAlB,4EACAyD,EACkBY,EAAkBC,GAC/BZ,MAAK,SAAAC,GACFV,EAAWpC,EAAQS,KAAI,SAAAb,GAAM,OAAIA,EAAOe,KAAO6C,EAAmB5D,EAASkD,EAASC,SACpFL,EAAmB,CAAEV,QAAQ,aAAD,OAAesB,EAAezD,KAA9B,eAAiDH,KAAM,YACnFkE,YAAW,WACPlB,EAAmB,CAACV,QAAS,GAAItC,KAAM,OACxC,KACH2C,EAAW,IACXC,EAAa,OAEhBU,OAAM,SAAAC,GACHhC,QAAQC,IAAI+B,GACZP,EAAmB,CAAEV,QAAQ,GAAD,OAAKsB,EAAezD,KAApB,uBAA+CH,KAAM,YACjFkE,YAAW,WACPlB,EAAmB,CAAEV,QAAS,GAAItC,KAAM,OACzC,KACH0C,EAAWpC,EAAQK,QAAO,SAAAT,GAAM,OAAIA,EAAOe,KAAO6C,cAM9DZ,EACY7B,GACP8B,MAAK,SAAAC,GACF7B,QAAQC,IAAI4B,GACZV,EAAWpC,EAAQ6D,OAAOf,EAASC,OACnCL,EAAmB,CAAEV,QAAQ,SAAD,OAAWjB,EAAUlB,MAAQH,KAAM,YAC/DkE,YAAW,WACPlB,EAAmB,CAAEV,QAAS,GAAItC,KAAM,OACzC,KACH2C,EAAW,IACXC,EAAa,OAEhBU,OAAM,SAAAC,GACHhC,QAAQC,IAAI,YA2ChB5B,iBA9Ga,SAAC4D,GACtBb,EAAWa,EAAMC,OAAO1D,QA8GhBF,mBA3Ge,SAAC2D,GACxBZ,EAAaY,EAAMC,OAAO1D,UA4GtB,yCACA,cAAC,EAAD,CACIO,QAASA,EACTC,aA3CS,SAACU,GAElB,IAAMmD,EAAiB9D,EAAQK,QAAO,SAAAT,GAClC,OAAOA,EAAOe,KAAOA,KAGnBoD,EAAY/D,EAAQK,QAAO,SAAAT,GAC7B,OAAOA,EAAOe,KAAOA,KAGrB+C,OAAOC,QAAP,iBAAyBI,EAAU,GAAGlE,KAAtC,QACAoB,QAAQC,IAAI4C,GACZlB,EACYjC,GACPkC,MAAK,SAAAC,GACFV,EAAW0B,GACXpB,EAAmB,CAAEV,QAAQ,GAAD,OAAK+B,EAAU,GAAGlE,KAAlB,eAAqCH,KAAM,YACvEkE,YAAW,WACPlB,EAAmB,CAAEV,QAAS,GAAItC,KAAM,OACzC,QAENsD,OAAM,SAAAC,GACHhC,QAAQC,IAAI,aAsBhBhB,UAAWA,EACXC,QAASA,QC5IzB6D,IAASC,OAAO,cAAC,EAAD,IAAQC,SAASC,eAAe,W","file":"static/js/main.94e0c6fd.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    const { handleChange } = props\r\n    return (\r\n        <div>\r\n                filter shown with <input onChange={handleChange} />\r\n        </div>\r\n      \r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n\r\n    const { \r\n            newName,\r\n            newNumber,\r\n            addPerson,\r\n            handleNameChange,\r\n            handleNumberChange\r\n        } = props\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={addPerson}>\r\n                <div>\r\n                    name: <input value={newName} onChange={handleNameChange} />\r\n                </div>\r\n                <div>\r\n                    number: <input value={newNumber} onChange={handleNumberChange} />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","const Person = (props) => {\r\n\r\n    const person = props.person\r\n\r\n    return `${person.name} ${person.number} `\r\n}\r\n\r\nexport default Person\r\n","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = (props) => {\r\n\r\n    const { persons, removePerson, newFilter, showAll } = props\r\n\r\n\r\n    const filteredPersons = persons.filter(person => {\r\n        return person.name.toLowerCase().includes(newFilter.toLowerCase())\r\n    })\r\n\r\n    const personsToShow = showAll\r\n        ? persons.map(person => {\r\n            return (\r\n                <p key={person.name}>\r\n                    <Person person={person} />\r\n                    <button onClick={() => removePerson(person.id)}>Delete</button>\r\n                </p>\r\n            )\r\n        })\r\n        : filteredPersons.map(person => {\r\n            return (\r\n                <p key={person.name}>\r\n                    <Person person={person} />\r\n                    <button onClick={() => removePerson(person.id)}>Delete</button>\r\n                </p>\r\n            )\r\n        })\r\n\r\n    return (\r\n        <div>\r\n            {personsToShow}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    return axios.post(baseUrl, newPerson)\r\n\r\n}\r\n\r\nconst remove = (id) => {\r\n    console.log(id)\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst updateNumber = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nexport default { getAll, create, remove, updateNumber }\r\n\r\n\r\n\r\n","import React from 'react'\r\n\r\nconst successStyle = {\r\n    padding: \"20px\",\r\n    fontSize: \"20px\",\r\n    color: \"green\",\r\n    backgroundColor: \"lightgrey\",\r\n    border: \"3px solid green\",\r\n    borderRadius: \"10px\"\r\n}\r\n\r\nconst failureStyle = {\r\n    padding: \"20px\",\r\n    fontSize: \"20px\",\r\n    color: \"red\",\r\n    backgroundColor: \"lightgrey\",\r\n    border: \"3px solid red\",\r\n    borderRadius: \"10px\"\r\n}\r\n\r\nconst Notification = (props) => {\r\n    const { message } = props\r\n\r\n    if (message.content === '') {\r\n        return null\r\n    }\r\n\r\n    if (message.type === 'success') {\r\n        return <p style={successStyle}>{message.content}</p>\r\n    }\r\n\r\n    if (message.type === 'failure') {\r\n        return <p style={failureStyle}>{message.content}</p>\r\n    }\r\n\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './Filter'\r\nimport PersonForm from './PersonForm'\r\nimport Persons from './Persons'\r\nimport personService from './services/persons'\r\nimport Notification from './Notifications'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [newFilter, setNewFilter] = useState('')\r\n    const [showAll, setshowAll] = useState(true)\r\n    const [feedbackMessage, setFeedbackMessage] = useState({content: '', type: ''})\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(response => {\r\n                setPersons(response.data)\r\n            })\r\n            .catch(error => {\r\n                console.log('fail')\r\n            })\r\n    }, [])\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleFilterChange = (event) => {\r\n        setNewFilter(event.target.value)\r\n        persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n            ? setshowAll(false)\r\n            : setshowAll(true)\r\n\r\n    }\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        if (persons.some(person => person.name === newName)) {\r\n            const existingPerson = persons.find(person => person.name === newName)\r\n            const existingPersonId = existingPerson.id\r\n            const changedPerson = { ...existingPerson, number: newNumber }\r\n\r\n            // Replace number\r\n            if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n                personService\r\n                    .updateNumber(existingPersonId, changedPerson)\r\n                    .then(response => {\r\n                        setPersons(persons.map(person => person.id !== existingPersonId ? person : response.data))\r\n                        setFeedbackMessage({ content: `Number of ${existingPerson.name} is changed`, type: 'success' })\r\n                        setTimeout(() => {\r\n                            setFeedbackMessage({content: '', type: ''})\r\n                        }, 5000)\r\n                        setNewName('')\r\n                        setNewNumber('')\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error)\r\n                        setFeedbackMessage({ content: `${existingPerson.name} is already deleted`, type: \"failure\" })\r\n                        setTimeout(() => {\r\n                            setFeedbackMessage({ content: '', type: '' })\r\n                        }, 5000)\r\n                        setPersons(persons.filter(person => person.id !== existingPersonId))\r\n                    })\r\n            }\r\n\r\n            //New person add\r\n        } else {\r\n            personService\r\n                .create(newPerson)\r\n                .then(response => {\r\n                    console.log(response)\r\n                    setPersons(persons.concat(response.data))\r\n                    setFeedbackMessage({ content: `Added ${newPerson.name}`, type: 'success' })\r\n                    setTimeout(() => {\r\n                        setFeedbackMessage({ content: '', type: '' })\r\n                    }, 5000)\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                })\r\n                .catch(error => {\r\n                    console.log('fail')\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    const removePerson = (id) => {\r\n\r\n        const changedPersons = persons.filter(person => {\r\n            return person.id !== id\r\n        })\r\n\r\n        const personObj = persons.filter(person => {\r\n            return person.id === id\r\n        })\r\n\r\n        if (window.confirm(`Delete ${personObj[0].name}?`)) {\r\n            console.log(changedPersons)\r\n            personService\r\n                .remove(id)\r\n                .then(response => {\r\n                    setPersons(changedPersons)\r\n                    setFeedbackMessage({ content: `${personObj[0].name} is removed`, type: 'success' })\r\n                    setTimeout(() => {\r\n                        setFeedbackMessage({ content: '', type: '' })\r\n                    }, 5000)\r\n                })\r\n                .catch(error => {\r\n                    console.log('fail')\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={feedbackMessage} />\r\n            <Filter handleChange={handleFilterChange} />\r\n            <h2>Add a new</h2>\r\n            <PersonForm\r\n                newName={newName}\r\n                newNumber={newNumber}\r\n                addPerson={addPerson}\r\n                handleNameChange={handleNameChange}\r\n                handleNumberChange={handleNumberChange}\r\n            />\r\n            <h2>Numbers</h2>\r\n            <Persons\r\n                persons={persons}\r\n                removePerson={removePerson}\r\n                newFilter={newFilter}\r\n                showAll={showAll} />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App/>, document.getElementById('root'))\n"],"sourceRoot":""}